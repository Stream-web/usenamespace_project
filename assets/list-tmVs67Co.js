import{d as f,u as h,f as L,_ as v,o as j,b as $,g as t,w as a,r as o,e as P,t as w,p as C,h as S,i as B,j as k,P as _,k as I,l as T,c as A,m as V}from"./index-Q3HM2ovC.js";import{N as E}from"./NavBar-5qdq_NIz.js";import x from"./ProjectForm-bV11ef4p.js";import D from"./TableHeader-Ymb-W38e.js";import F from"./TableBody-SXOfv4nm.js";import"./Translations-a6k-FFJk.js";import"./ProjectItem-lr6epD2p.js";const H=f({name:"NavigationSideLogo",setup(){const e=h();return{title:L(()=>e.t("base.systemTitle"))}}}),M="data:image/svg+xml,%3csvg%20viewBox='0%200%202500%202165.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m1538.7%200-288.7%20500-288.7-500h-961.3l1250%202165.1%201250-2165.1z'%20fill='%234dba87'/%3e%3cpath%20d='m1538.7%200-288.7%20500-288.7-500h-461.3l750%201299%20750-1299z'%20fill='%23435466'/%3e%3c/svg%3e",z=e=>(C("data-v-e8773519"),e=e(),S(),e),O={class:"side-logo-container"},R=z(()=>P("img",{class:"side-logo-img",src:M,alt:"商标"},null,-1)),q={class:"side-logo-title"};function G(e,n,c,p,r,i){const s=o("router-link");return j(),$("div",O,[t(s,{to:`/${e.$route.params.locale||""}`},{default:a(()=>[R,P("h1",q,w(e.title),1)]),_:1},8,["to"])])}const J=v(H,[["render",G],["__scopeId","data-v-e8773519"]]),K=f({name:"ProjectList",components:{NavigationNavBar:E,NavigationSideLogo:J,ProjectTableHeader:D,ProjectTableBody:F},setup(){const{proxy:e}=I(),n=T(),c=h();function p(){const s=k({name:"",corpName:"",notes:""});e.$ModalDialog({title:c.t("project.create"),top:"10vh",width:"50vw",showClose:!0,closeOnClickModal:!1,closeOnPressEscape:!1,renderComponent:{data:s,component:x},async onConfirm(m,l){if(!await m.validateRules())return Promise.reject(new Error("error"));l.fullLoading=!0;const{error:d,data:g}=await n.dispatch(_.getAction("createProject"),s);if(l.fullLoading=!1,d)return Promise.reject(new Error("error"));n.dispatch(_.getAction("getProjectList"))}})}const r=B(!0),i=async s=>{r.value=!0,await n.dispatch(_.getAction("getProjectList"),{kw:s}),r.value=!1};return i(),{localeInject:c,loadingContent:r,handleCreateProject:p,handleSelectSearch:i}}});function Q(e,n,c,p,r,i){const s=o("NavigationSideLogo"),m=o("NavigationNavBar"),l=o("IconFont"),u=o("el-button"),d=o("LayoutSection"),g=o("el-date-picker"),b=o("ProjectTableHeader"),y=o("ProjectTableBody"),N=o("LayoutArea");return j(),A(N,null,{top:a(()=>[t(m,{fixed:!1},{default:a(()=>[t(s)]),_:1})]),side:a(()=>[t(d,{title:e.localeInject.t("project.manageTitle")},{default:a(()=>[t(u,{type:"primary",class:"create-action",onClick:n[0]||(n[0]=U=>e.handleCreateProject())},{default:a(()=>[t(l,{icon:"iconestablish"}),V(" "+w(e._t("project.create")),1)]),_:1})]),_:1},8,["title"])]),content:a(()=>[t(d,{"has-divider":"","flex-content":"",loading:e.loadingContent},{head:a(()=>[t(g,{"start-placeholder":e._t("base.i18nTest"),"end-placeholder":e._t("base.i18nTest"),type:"datetimerange"},null,8,["start-placeholder","end-placeholder"])]),default:a(()=>[t(b),t(y)]),_:1},8,["loading"])]),_:1})}const ae=v(K,[["render",Q],["__scopeId","data-v-5202beb8"]]);export{ae as default};
