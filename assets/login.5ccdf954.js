import{e as _,W as x,u as A,K as R,J as S,f as m,G as C,v as E,h as I,X as T,z as U,Y as q,L as y,E as P,A as z,_ as D,r as l,o as O,b as j,d as t,t as F,g as c,w as h,C as G,j as J,p as K,q as M}from"./index.0003371d.js";import V from"./ContainerLayout.2363f6e0.js";import{T as W}from"./Translations.8d87e370.js";import"./lodash.04d65fba.js";const X=_({name:"UserAccountLogin",components:{UserAccountContainerLayout:V,Promotion:x,Translations:W},setup(){const{proxy:a}=z(),d=A(),p=R(),v=S(),n=m(!0),r=m(""),o=m(""),u=C({email:"vite.admin@gmail.com",password:"123456"}),s=E(),g=I(()=>({title:s.t("login.hydl"),actionList:[{attrs:{type:"primary",loading:n.value,size:"large"},text:s.t("login.signin"),on:{click(i){a.onSubmit(i)}}}],formConfig:[{attrs:{prop:"email",error:r.value,rules:()=>[a.getRequiredRules({trigger:"change",message:s.t("login.plsemail")}),a.getValidatorRules("","blur",{type:"email",message:s.t("login.plscurrentemail")})]},label:s.t("login.email"),prefixIcon:"user-tie",placeholder:s.t("login.plsemail")},{attrs:{prop:"password",error:o.value,rules:()=>a.getRequiredRules({trigger:"change",message:s.t("login.plspwd")})},link:{text:s.t("login.fgtpwd"),click(){}},type:"password",label:s.t("login.pwd"),prefixIcon:"lock",placeholder:s.t("login.plspwd")}]}));function e(i=!1){n.value=i}return e(!0),T(()=>{U(()=>{e(!1)})}),{isLoading:n,inputErrorEmail:r,inputErrorPassword:o,formData:u,configLogin:g,setLoading:e,onSubmit:function(i){n.value||i.validate(async b=>{if(!b)return;r.value="",o.value="",e(!0);const{error:L,data:f,msg:k}=await d.dispatch(q.getAction("login"),u);if(L)return r.value=" ",o.value=k,void e(!1);y.set("token",f.user.token),y.set("name",f.user.username),v.replace(`/${p.params.locale||""}`).then(()=>{P.success({message:"\u767B\u5F55\u6210\u529F"})}).catch(()=>{})})}}}}),w=a=>(K("data-v-fa3fa911"),a=a(),M(),a),Y={class:"user-account-login"},$={class:"user-account-nav"},B={class:"nav-left"},H=w(()=>t("div",{class:"nav-logo"},null,-1)),N=w(()=>t("div",{class:"nav-circle"},null,-1)),Q={class:"nav-title"},Z={class:"nav-right"},aa={class:"user-account-body"},na=D(X,[["render",function(a,d,p,v,n,r){const o=l("Translations"),u=l("Promotion"),s=l("el-icon"),g=l("UserAccountContainerLayout"),e=l("MyFooter");return O(),j("div",Y,[t("div",$,[t("div",B,[H,N,t("div",Q,F(a._t("base.systemTitle")),1)]),t("div",Z,[c(o,{dark:""})])]),t("div",aa,[c(g,G(a.configLogin,{"form-data":a.formData,onOnSubmit:a.onSubmit}),{titleIcon:h(()=>[J(` <img
          src="@/assets/images/vue.svg"
          alt=""
        > `),c(s,null,{default:h(()=>[c(u)]),_:1})]),_:1},16,["form-data","onOnSubmit"])]),c(e)])}],["__scopeId","data-v-fa3fa911"],["__file","/home/runner/work/vite-ts-starter/vite-ts-starter/src/modules/UserAccount/pages/login.vue"]]);export{na as default};
