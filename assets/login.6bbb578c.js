import{s as x,a8 as S,u as I,g as R,h as _,L as g,S as A,Y as E,i as T,a9 as U,X as C,r as l,o as O,t as P,v as t,J as q,m as c,l as b,G as D,I as z,d as y,E as F,M as j,O as G}from"./vendor.f68e2987.js";import J from"./ContainerLayout.9eabe318.js";import{_ as M,u as V,U as X}from"./index.577677eb.js";import{T as Y}from"./Translations.6e14cd35.js";import"./lodash.181e21c3.js";const $=x({name:"UserAccountLogin",components:{UserAccountContainerLayout:J,Promotion:S,Translations:Y},setup(){const{proxy:a}=V(),d=I(),p=R(),v=_(),i=g(!0),n=g(""),o=g(""),u=A({email:"vite.admin@gmail.com",password:"123456"}),s=E(),m=T(()=>({title:s.t("login.hydl"),actionList:[{attrs:{type:"primary",loading:i.value,size:"large"},text:s.t("login.signin"),on:{click(r){a.onSubmit(r)}}}],formConfig:[{attrs:{prop:"email",error:n.value,rules:()=>[a.getRequiredRules({trigger:"change",message:s.t("login.plsemail")}),a.getValidatorRules("","blur",{type:"email",message:s.t("login.plscurrentemail")})]},label:s.t("login.email"),prefixIcon:"user-tie",placeholder:s.t("login.plsemail")},{attrs:{prop:"password",error:o.value,rules:()=>a.getRequiredRules({trigger:"change",message:s.t("login.plspwd")})},link:{text:s.t("login.fgtpwd"),click(){}},type:"password",label:s.t("login.pwd"),prefixIcon:"lock",placeholder:s.t("login.plspwd")}]}));function e(r=!1){i.value=r}return e(!0),U(()=>{C(()=>{e(!1)})}),{isLoading:i,inputErrorEmail:n,inputErrorPassword:o,formData:u,configLogin:m,setLoading:e,onSubmit:function(r){i.value||r.validate(async w=>{if(!w)return;n.value="",o.value="",e(!0);const{error:L,data:f,msg:k}=await d.dispatch(X.getAction("login"),u);if(L)return n.value=" ",o.value=k,void e(!1);y.set("token",f.user.token),y.set("name",f.user.username),v.replace(`/${p.params.locale||""}`).then(()=>{F.success({message:"\u767B\u5F55\u6210\u529F"})}).catch(()=>{})})}}}}),h=a=>(j("data-v-3c9ba2c0"),a=a(),G(),a),B={class:"user-account-login"},H={class:"user-account-nav"},K={class:"nav-left"},N=h(()=>t("div",{class:"nav-logo"},null,-1)),Q=h(()=>t("div",{class:"nav-circle"},null,-1)),W={class:"nav-title"},Z={class:"nav-right"},aa={class:"user-account-body"};var na=M($,[["render",function(a,d,p,v,i,n){const o=l("Translations"),u=l("Promotion"),s=l("el-icon"),m=l("UserAccountContainerLayout"),e=l("Footer");return O(),P("div",B,[t("div",H,[t("div",K,[N,Q,t("div",W,q(a._t("base.systemTitle")),1)]),t("div",Z,[c(o,{dark:""})])]),t("div",aa,[c(m,z(a.configLogin,{"form-data":a.formData,onOnSubmit:a.onSubmit}),{titleIcon:b(()=>[D(` <img
          src="@/assets/images/vue.svg"
          alt=""
        > `),c(s,null,{default:b(()=>[c(u)]),_:1})]),_:1},16,["form-data","onOnSubmit"])]),c(e)])}],["__scopeId","data-v-3c9ba2c0"]]);export{na as default};
