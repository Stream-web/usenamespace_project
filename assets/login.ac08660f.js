import{e as x,W as _,u as A,f as R,K as S,J as C,g as m,G as E,x as I,i as T,X as U,A as q,Y as P,L as b,E as D,_ as O,r as l,o as z,b as F,d as t,t as j,h as c,w as h,C as G,q as J,v as K,k as V}from"./index.402ca13a.js";import W from"./ContainerLayout.5fe954e4.js";import{T as X}from"./Translations.4e36be67.js";import"./lodash.e25b21ca.js";const Y=x({name:"UserAccountLogin",components:{UserAccountContainerLayout:W,Promotion:_,Translations:X},setup(){const{proxy:a}=A(),d=R(),p=S(),v=C(),n=m(!0),r=m(""),o=m(""),u=E({email:"vite.admin@gmail.com",password:"123456"}),s=I(),g=T(()=>({title:s.t("login.hydl"),actionList:[{attrs:{type:"primary",loading:n.value,size:"large"},text:s.t("login.signin"),on:{click(i){a.onSubmit(i)}}}],formConfig:[{attrs:{prop:"email",error:r.value,rules:()=>[a.getRequiredRules({trigger:"change",message:s.t("login.plsemail")}),a.getValidatorRules("","blur",{type:"email",message:s.t("login.plscurrentemail")})]},label:s.t("login.email"),prefixIcon:"user-tie",placeholder:s.t("login.plsemail")},{attrs:{prop:"password",error:o.value,rules:()=>a.getRequiredRules({trigger:"change",message:s.t("login.plspwd")})},link:{text:s.t("login.fgtpwd"),click(){}},type:"password",label:s.t("login.pwd"),prefixIcon:"lock",placeholder:s.t("login.plspwd")}]}));function e(i=!1){n.value=i}return e(!0),U(()=>{q(()=>{e(!1)})}),{isLoading:n,inputErrorEmail:r,inputErrorPassword:o,formData:u,configLogin:g,setLoading:e,onSubmit:function(i){n.value||i.validate(async y=>{if(!y)return;r.value="",o.value="",e(!0);const{error:k,data:f,msg:L}=await d.dispatch(P.getAction("login"),u);if(k)return r.value=" ",o.value=L,void e(!1);b.set("token",f.user.token),b.set("name",f.user.username),v.replace(`/${p.params.locale||""}`).then(()=>{D.success({message:"\u767B\u5F55\u6210\u529F"})}).catch(()=>{})})}}}}),w=a=>(J("data-v-fa3fa911"),a=a(),K(),a),$={class:"user-account-login"},B={class:"user-account-nav"},H={class:"nav-left"},M=w(()=>t("div",{class:"nav-logo"},null,-1)),N=w(()=>t("div",{class:"nav-circle"},null,-1)),Q={class:"nav-title"},Z={class:"nav-right"},aa={class:"user-account-body"},na=O(Y,[["render",function(a,d,p,v,n,r){const o=l("Translations"),u=l("Promotion"),s=l("el-icon"),g=l("UserAccountContainerLayout"),e=l("Footer");return z(),F("div",$,[t("div",B,[t("div",H,[M,N,t("div",Q,j(a._t("base.systemTitle")),1)]),t("div",Z,[c(o,{dark:""})])]),t("div",aa,[c(g,G(a.configLogin,{"form-data":a.formData,onOnSubmit:a.onSubmit}),{titleIcon:h(()=>[V(` <img
          src="@/assets/images/vue.svg"
          alt=""
        > `),c(s,null,{default:h(()=>[c(u)]),_:1})]),_:1},16,["form-data","onOnSubmit"])]),c(e)])}],["__scopeId","data-v-fa3fa911"],["__file","/home/runner/work/vite-ts-starter/vite-ts-starter/src/modules/UserAccount/pages/login.vue"]]);export{na as default};
