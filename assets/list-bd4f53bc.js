import{d as g,u as v,f as S,_ as h,r as t,o as j,b as $,g as o,w as a,e as b,t as y,p as w,h as C,i as k,j as I,k as T,P as u,l as B,c as A,m as V}from"./index-770e4eef.js";import{N as E}from"./NavBar-2e557bb6.js";import D from"./ProjectForm-e06a0d42.js";import F from"./TableHeader-535f9fb4.js";import H from"./TableBody-4d9387d6.js";import"./Translations-15daf1f0.js";import"./ProjectItem-7c062836.js";const M=g({name:"NavigationSideLogo",setup(){const e=v();return{title:S(()=>e.t("base.systemTitle"))}}}),x=""+new URL("vue-20be1948.svg",import.meta.url).href;const O=e=>(w("data-v-f1bcf7c3"),e=e(),C(),e),R={class:"side-logo-container"},U=O(()=>b("img",{class:"side-logo-img",src:x,alt:"商标"},null,-1)),q={class:"side-logo-title"};function z(e,n,r,p,c,i){const s=t("router-link");return j(),$("div",R,[o(s,{to:`/${e.$route.params.locale||""}`},{default:a(()=>[U,b("h1",q,y(e.title),1)]),_:1},8,["to"])])}const G=h(M,[["render",z],["__scopeId","data-v-f1bcf7c3"]]),J=g({name:"ProjectList",components:{NavigationNavBar:E,NavigationSideLogo:G,ProjectTableHeader:F,ProjectTableBody:H},setup(){const{proxy:e}=B(),n=k(),r=v();function p(){const s=T({name:"",corpName:"",notes:""});e.$ModalDialog({title:r.t("project.create"),top:"10vh",width:"50vw",showClose:!0,closeOnClickModal:!1,closeOnPressEscape:!1,renderComponent:{data:s,component:D},async onConfirm(_,l){if(!await _.validateRules())return Promise.reject(new Error("error"));l.fullLoading=!0;const{error:d,data:f}=await n.dispatch(u.getAction("createProject"),s);if(l.fullLoading=!1,d)return Promise.reject(new Error("error"));n.dispatch(u.getAction("getProjectList"))}})}const c=I(!0),i=async s=>{c.value=!0,await n.dispatch(u.getAction("getProjectList"),{kw:s}),c.value=!1};return i(),{localeInject:r,loadingContent:c,handleCreateProject:p,handleSelectSearch:i}}});function K(e,n,r,p,c,i){const s=t("NavigationSideLogo"),_=t("NavigationNavBar"),l=t("IconFont"),m=t("el-button"),d=t("LayoutSection"),f=t("el-date-picker"),P=t("ProjectTableHeader"),L=t("ProjectTableBody"),N=t("LayoutArea");return j(),A(N,null,{top:a(()=>[o(_,{fixed:!1},{default:a(()=>[o(s)]),_:1})]),side:a(()=>[o(d,{title:e.localeInject.t("project.manageTitle")},{default:a(()=>[o(m,{type:"primary",class:"create-action",onClick:n[0]||(n[0]=Q=>e.handleCreateProject())},{default:a(()=>[o(l,{icon:"iconestablish"}),V(" "+y(e._t("project.create")),1)]),_:1})]),_:1},8,["title"])]),content:a(()=>[o(d,{"has-divider":"","flex-content":"",loading:e.loadingContent},{head:a(()=>[o(f,{"start-placeholder":e._t("base.i18nTest"),"end-placeholder":e._t("base.i18nTest"),type:"datetimerange"},null,8,["start-placeholder","end-placeholder"])]),default:a(()=>[o(P),o(L)]),_:1},8,["loading"])]),_:1})}const ae=h(J,[["render",K],["__scopeId","data-v-646ea6eb"]]);export{ae as default};
