import{d as I,C as L,B as S,D as C,i as p,j as R,u as x,f as A,G as E,H as T,U,I as B,E as M,l as P,k as $,_ as D,o as V,b as j,e as s,t as q,g as c,w as v,J as F,r as l,p as N,h as O}from"./index-Q3HM2ovC.js";import z from"./ContainerLayout-WY3KxBOm.js";import{T as G}from"./Translations-a6k-FFJk.js";const H=I({name:"UserAccountLogin",components:{UserAccountContainerLayout:z,Promotion:L,Translations:G},setup(){const{proxy:o}=$(),m=P(),g=S(),_=C(),a=p(!0),r=p(""),n=p(""),u=R({email:"vite.admin@gmail.com",password:"123456"}),e=x(),d=A(()=>({title:e.t("login.hydl"),actionList:[{attrs:{type:"primary",loading:a.value,size:"large"},text:e.t("login.signin"),on:{click(i){f(i)}}}],formConfig:[{attrs:{prop:"email",error:r.value,rules(){return[o.getRequiredRules({trigger:"change",message:e.t("login.plsemail")}),o.getValidatorRules("","blur",{type:"email",message:e.t("login.plscurrentemail")})]}},label:e.t("login.email"),prefixIcon:"user-tie",placeholder:e.t("login.plsemail")},{attrs:{prop:"password",error:n.value,rules(){return o.getRequiredRules({trigger:"change",message:e.t("login.plspwd")})}},link:{text:e.t("login.fgtpwd"),click(){}},type:"password",label:e.t("login.pwd"),prefixIcon:"lock",placeholder:e.t("login.plspwd")}]}));function t(i=!1){a.value=i}function f(i){a.value||i.validate(async y=>{if(!y)return;r.value="",n.value="",t(!0);const{error:w,data:k,msg:b}=await m.dispatch(U.getAction("login"),u);if(w){r.value=" ",n.value=b,t(!1);return}B.set("token",k.user.token),_.replace(`/${g.params.locale||""}`).then(()=>{M.success({message:e.t("login.loginSuccess")})}).catch(()=>{})})}return t(!0),E(()=>{T(()=>{t(!1)})}),{isLoading:a,inputErrorEmail:r,inputErrorPassword:n,formData:u,configLogin:d,setLoading:t,onSubmit:f}}}),h=o=>(N("data-v-d8fd8e1c"),o=o(),O(),o),J={class:"user-account-login"},K={class:"user-account-nav"},Q={class:"nav-left"},W=h(()=>s("div",{class:"nav-logo"},null,-1)),X=h(()=>s("div",{class:"nav-circle"},null,-1)),Y={class:"nav-title"},Z={class:"nav-right"},ee={class:"user-account-body"};function oe(o,m,g,_,a,r){const n=l("Translations"),u=l("Promotion"),e=l("el-icon"),d=l("UserAccountContainerLayout"),t=l("MyFooter");return V(),j("div",J,[s("div",K,[s("div",Q,[W,X,s("div",Y,q(o._t("base.systemTitle")),1)]),s("div",Z,[c(n,{dark:""})])]),s("div",ee,[c(d,F(o.configLogin,{"form-data":o.formData,onOnSubmit:o.onSubmit}),{titleIcon:v(()=>[c(e,null,{default:v(()=>[c(u)]),_:1})]),_:1},16,["form-data","onOnSubmit"])]),c(t)])}const ae=D(H,[["render",oe],["__scopeId","data-v-d8fd8e1c"]]);export{ae as default};
