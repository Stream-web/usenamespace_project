import{e as h,I as C,o as y,b as L,d as s,_ as I,u as R,f as S,K as E,J as P,g as v,H as T,x as U,i as q,W as z,A as D,r as l,t as O,h as c,w,k as V,C as B,X as F,L as b,E as H,q as j,v as J}from"./index.852b659e.js";import K from"./ContainerLayout.a7039966.js";import{T as W}from"./Translations.64eba6b1.js";import"./lodash.ec577e90.js";const X=h({name:"Promotion"}),$={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},G=[s("path",{fill:"currentColor",d:"m64 448 832-320-128 704-446.08-243.328L832 192 242.816 545.472 64 448zm256 512V657.024L512 768 320 960z"},null,-1)],M=h({name:"UserAccountLogin",components:{UserAccountContainerLayout:K,Promotion:C(X,[["render",function(a,g,m,d,o,n){return y(),L("svg",$,G)}]]),Translations:W},setup(){const{proxy:a}=R(),g=S(),m=E(),d=P(),o=v(!0),n=v(""),r=v(""),u=T({email:"vite.admin@gmail.com",password:"123456"}),e=U(),p=q(()=>({title:e.t("login.hydl"),actionList:[{attrs:{type:"primary",loading:o.value,size:"large"},text:e.t("login.signin"),on:{click(i){a.onSubmit(i)}}}],formConfig:[{attrs:{prop:"email",error:n.value,rules:()=>[a.getRequiredRules({trigger:"change",message:e.t("login.plsemail")}),a.getValidatorRules("","blur",{type:"email",message:e.t("login.plscurrentemail")})]},label:e.t("login.email"),prefixIcon:"user-tie",placeholder:e.t("login.plsemail")},{attrs:{prop:"password",error:r.value,rules:()=>a.getRequiredRules({trigger:"change",message:e.t("login.plspwd")})},link:{text:e.t("login.fgtpwd"),click(){}},type:"password",label:e.t("login.pwd"),prefixIcon:"lock",placeholder:e.t("login.plspwd")}]}));function t(i=!1){o.value=i}return t(!0),z(()=>{D(()=>{t(!1)})}),{isLoading:o,inputErrorEmail:n,inputErrorPassword:r,formData:u,configLogin:p,setLoading:t,onSubmit:function(i){o.value||i.validate(async x=>{if(!x)return;n.value="",r.value="",t(!0);const{error:_,data:f,msg:A}=await g.dispatch(F.getAction("login"),u);if(_)return n.value=" ",r.value=A,void t(!1);b.set("token",f.user.token),b.set("name",f.user.username),d.replace(`/${m.params.locale||""}`).then(()=>{H.success({message:"\u767B\u5F55\u6210\u529F"})}).catch(()=>{})})}}}}),k=a=>(j("data-v-3c9ba2c0"),a=a(),J(),a),N={class:"user-account-login"},Q={class:"user-account-nav"},Y={class:"nav-left"},Z=k(()=>s("div",{class:"nav-logo"},null,-1)),aa=k(()=>s("div",{class:"nav-circle"},null,-1)),ea={class:"nav-title"},sa={class:"nav-right"},ta={class:"user-account-body"};var la=I(M,[["render",function(a,g,m,d,o,n){const r=l("Translations"),u=l("Promotion"),e=l("el-icon"),p=l("UserAccountContainerLayout"),t=l("Footer");return y(),L("div",N,[s("div",Q,[s("div",Y,[Z,aa,s("div",ea,O(a._t("base.systemTitle")),1)]),s("div",sa,[c(r,{dark:""})])]),s("div",ta,[c(p,B(a.configLogin,{"form-data":a.formData,onOnSubmit:a.onSubmit}),{titleIcon:w(()=>[V(` <img
          src="@/assets/images/vue.svg"
          alt=""
        > `),c(e,null,{default:w(()=>[c(u)]),_:1})]),_:1},16,["form-data","onOnSubmit"])]),c(t)])}],["__scopeId","data-v-3c9ba2c0"],["__file","/home/runner/work/vite-ts-starter/vite-ts-starter/src/modules/UserAccount/pages/login.vue"]]);export{la as default};
